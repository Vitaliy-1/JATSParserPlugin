!function(){var e,t=0;$(".article-section-title").each(function(a){if("H2"===$(this).prop("tagName"))$(this).attr("id","title-"+a),$("#article-navigation-menu-items").append("<a class='nav-link' href='#title-"+a+"'>"+$(this).text()+"</a>"),t=0;else if("H3"===$(this).prop("tagName")){t++,$(this).attr("id","title-"+a),1===t&&(e=$("<nav>",{class:"nav nav-pills flex-column"}),$("#article-navigation-menu-items").append(e));var i=$("<a>",{class:"nav-link ml-3 my-1 nav-subtitle",href:"#title-"+a,text:$(this).text()});$(e).append(i)}})}(),$("body").add({"data-spy":"scroll","data-target":"#navbar-article"}),$(document).ready(function(){$("body").scrollspy({target:"#article-navbar"})}),$("table").addClass("table").wrap("<div class='table-wrapper'></div>"),function(){for(var e=document.getElementsByClassName("figure"),t=0;t<e.length;t++){var a=document.createElement("a");a.classList.add("image-enlarge-link"),e.item(t).appendChild(a);var i=document.createElement("i");i.classList.add("fas","fa-expand-arrows-alt","fa-lg","figure-image-expand"),a.appendChild(i)}}(),function(){var e=document.getElementsByTagName("figure");for(i=0;i<e.length;i++){if(e.item(i).offsetHeight-e.item(i).style.marginBottom<e.item(i).scrollHeight){var t=e.item(i).getElementsByClassName("caption")[0],a=document.createElement("span");a.classList.add("ellipsis"),a.innerText="...",t.appendChild(a)}var s=e.item(i).getElementsByTagName("img")[0],n=e.item(i).getElementsByClassName("image-enlarge-link")[0],l=e.item(i).getElementsByClassName("figure")[0],d=document.createElement("a");d.classList.add("download-image");var r=document.createElement("i");r.classList.add("fas","fa-download","fa-lg"),l.appendChild(d),d.appendChild(r),d.href=s.src;e.item(i).getElementsByTagName("svg")[0];function o(){var e=document.createElement("div");setTimeout(e.classList.add("modal-window"),5e3);var t=document.createElement("div");t.classList.add("modal-content");var a=null;a="img"===this.tagName?this.cloneNode(!0):this.parentElement.getElementsByTagName("img")[0].cloneNode(!0),figureCaption=this.parentElement.parentElement.getElementsByClassName("caption")[0].cloneNode(!0),document.body.appendChild(e),e.appendChild(t),t.appendChild(a),t.appendChild(figureCaption),document.body.style.overflow="hidden";var i=document.createElement("i");i.classList.add("fas","fa-times","close-modal","fa-2x"),t.appendChild(i)}s.addEventListener("click",o),n.addEventListener("click",o)}var c=0;window.addEventListener("click",function(e){var t=document.getElementsByClassName("modal-window")[0];if(void 0===t||null==t)return!1;c++;var a=t.getElementsByClassName("modal-content")[0],i=t.getElementsByClassName("close-modal")[0];(null!==a&&!a.contains(e.target)&&c>1||i.contains(e.target))&&(t.parentNode.removeChild(t),document.body.style.overflow="auto",c=0)})}(),function(e){var t=e(".jatsparser-author-string-href");e(t).click(function(a){a.preventDefault();var i=e(this).attr("href").replace("#","");e(".article-details-author").each(function(){e(this).attr("id")===i&&e(this).hasClass("hideAuthor")?e(this).removeClass("hideAuthor"):e(this).addClass("hideAuthor")}),e(t).each(function(){e(this).attr("href")!=="#"+i||e(this).hasClass("active")?(e(this).attr("href")!=="#"+i||e(this).hasClass("active"))&&(e(this).removeClass("active"),e(this).children(".author-plus").removeClass("hide"),e(this).children(".author-minus").addClass("hide")):(e(this).addClass("active"),e(this).children(".author-plus").addClass("hide"),e(this).children(".author-minus").removeClass("hide"))})})}(jQuery),$(".references li a:not(:last-child)").each(function(e){var t=document.createElement("span");$(t).addClass("references-link-delimeter").text("|"),$(this).after(t)}),function(){var e=$("h2.article-section-title"),t="jatsparser-article-mobile-view";function a(){var a=$(".article-fulltext");window.innerWidth<992&&!a.hasClass(t)?(a.addClass(t),e.each(function(){$(this).nextUntil("h2.article-section-title").wrapAll('<div class="jatsparser-section-content"></div>')})):window.innerWidth>=992&&a.hasClass(t)&&(a.removeClass(t),$(".jatsparser-section-content").children().unwrap())}a(),window.addEventListener("resize",function(e){a()},!1),e.click(function(t){e.not(this).hasClass("active")&&e.not(this).removeClass("active"),$(this).hasClass("active")?$(this).removeClass("active"):($(this).addClass("active"),$(window).scrollTop($(this).offset().top))})}();